{ "version": 2, "builds": [ { "src": "backend/server.py", "use": "@vercel/python", "config": { "runtime": "python3.11" } }, { "src": "frontend/package.json", "use": "@vercel/static-build", "config": { "distDir": "build", "framework": "create-react-app" } } ], "routes": [ { "src": "/api/(.)", "dest": "/backend/server.py", "methods": ["GET", "POST", "PUT", "DELETE", "OPTIONS"], "headers": { "Access-Control-Allow-Origin": "", "Access-Control-Allow-Methods": "GET, POST, PUT, DELETE, OPTIONS", "Access-Control-Allow-Headers": "Content-Type, Authorization" } }, { "src": "/health", "dest": "/backend/server.py" }, { "src": "/static/(.)", "dest": "/frontend/build/static/$1" }, { "src": "/manifest.json", "dest": "/frontend/build/manifest.json" }, { "src": "/favicon.ico", "dest": "/frontend/build/favicon.ico" }, { "src": "/(.)", "dest": "/frontend/build/index.html" } ], "env": { "PYTHON_VERSION": "3.11" }, "functions": { "backend/server.py": { "runtime": "python3.11", "maxDuration": 60 } }, "framework": null, "installCommand": "cd frontend && yarn install --frozen-lockfile && cd ../backend && pip install -r requirements.txt", "buildCommand": "cd frontend && yarn build && yarn build:css" }
